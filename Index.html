<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosy Personal</title>
    <style>
        /* Paleta de colores inspirada en Blackpink */
        :root {
            --color-primary: #FFB3C1; /* Rosa claro, base */
            --color-secondary: #FF87A6; /* Rosa oscuro, acento */
            --color-text-dark: #2C2C2C; /* Casi negro */
            --color-text-light: #FAFAFA; /* Blanco */
            --color-background: #F8F8F8; /* Gris muy claro */
            --color-card-bg: #FFFFFF; /* Blanco puro */
            --color-border: #E0E0E0; /* Gris suave para bordes */
            --color-button-bg: #000000; /* Negro para botones */
            --color-button-text: #FFFFFF; /* Texto blanco en botones */
        }
        
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--color-background);
            color: var(--color-text-dark);
            margin: 0;
            padding: 0;
        }

        header {
            background-color: var(--color-secondary);
            color: var(--color-text-light);
            padding: 30px;
            text-align: center;
            font-size: 2.5em;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 3px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .container {
            padding: 20px;
            max-width: 900px;
            margin: auto;
        }

        /* --- SECCIONES DE PRODUCTOS AÑADIDAS --- */
        .new-product-section {
            background-color: var(--color-card-bg);
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border: 1px solid var(--color-border);
        }

        .new-product-section h3 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.5em;
            color: var(--color-secondary);
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 5px;
        }
        
        .product-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .product-options button {
            background-color: var(--color-button-text);
            border: 1px solid var(--color-border);
            border-radius: 25px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: var(--color-text-dark);
        }
        
        .product-options button.selected {
            background-color: var(--color-primary);
            color: var(--color-button-text);
            border-color: var(--color-primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transform: scale(1.05);
        }

        .product-options button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .product-options-container .add-to-cart-standalone {
            background-color: var(--color-button-bg);
            color: var(--color-button-text);
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: background-color 0.3s ease, transform 0.3s ease;
            margin-top: 15px;
            width: 100%;
        }

        .product-options-container .add-to-cart-standalone:hover {
            background-color: var(--color-secondary);
            color: var(--color-button-text);
        }

        .product-options-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        /* --- FILTROS --- */
        .filters {
            background-color: var(--color-card-bg);
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border: 1px solid var(--color-border);
        }

        .filters h3 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.5em;
            color: var(--color-secondary);
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 5px;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-options button {
            background-color: var(--color-background);
            border: 1px solid var(--color-border);
            border-radius: 25px;
            padding: 10px 20px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--color-text-dark);
        }

        .filter-options button.active {
            background-color: var(--color-secondary);
            color: var(--color-text-light);
            border-color: var(--color-secondary);
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transform: scale(1.05);
        }
        
        .filter-options button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        /* --- LISTA DE PRODUCTOS --- */
        .product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .product-card {
            background-color: var(--color-card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 25px;
            border: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            gap: 12px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        .product-card h4 {
            margin: 0;
            font-size: 1.5em;
            color: var(--color-secondary);
            font-weight: 700;
        }

        .product-card p {
            margin: 0;
            font-size: 1em;
            line-height: 1.5;
            color: var(--color-text-dark);
        }

        .product-card .add-to-cart {
            background-color: var(--color-button-bg);
            color: var(--color-button-text);
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: background-color 0.3s ease, transform 0.3s ease;
            margin-top: auto; /* Para alinear botones en la parte inferior */
        }
        
        .product-card .add-to-cart:hover {
            background-color: var(--color-secondary);
            color: var(--color-button-text);
        }

        /* --- CARRITO DE COMPRAS --- */
        .cart-section {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-button-bg);
            color: var(--color-button-text);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
        }

        .cart-button {
            background-color: var(--color-primary);
            color: var(--color-button-bg);
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .cart-button:hover {
            background-color: var(--color-secondary);
            color: var(--color-button-text);
        }
        
        .cart-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .cart-content {
            background-color: var(--color-card-bg);
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .cart-content h3 {
            margin-top: 0;
            color: var(--color-secondary);
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 10px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--color-border);
            font-size: 1.1em;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item .remove-btn {
            background-color: #FF4757;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .cart-item .remove-btn:hover {
            background-color: #E63946;
        }

        .whatsapp-btn {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
            text-decoration: none;
            display: block;
            margin-top: 25px;
            transition: transform 0.2s ease;
        }
        .whatsapp-btn:hover {
            transform: scale(1.02);
        }
        .whatsapp-btn img {
            width: 24px;
            vertical-align: middle;
            margin-right: 10px;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2em;
            cursor: pointer;
            color: var(--color-text-dark);
        }

    </style>
</head>
<body>
    <header>
        Cosy Personal
    </header>

    <div class="container">
        
        <div class="new-product-section">
            <h3>Tipo de Base Vehicular</h3>
            <div class="product-options-container">
                <div class="product-options" id="base-products">
                    <button data-product="Gel">Gel</button>
                    <button data-product="Crema">Crema</button>
                    <button data-product="Ungüento">Ungüento</button>
                    <button data-product="Bálsamo">Bálsamo</button>
                    <button data-product="Serum">Serum</button>
                    <button data-product="Crema Capilar">Crema Capilar</button>
                    <button data-product="Relajante">Relajante</button>
                    <button data-product="Limpieza Corporal">Limpieza Corporal</button>
                    <button data-product="Aromas">Aromas</button>
                </div>
                <button class="add-to-cart-standalone" id="add-base-cart" disabled>Agregar al Carrito</button>
            </div>
        </div>

        <div class="new-product-section">
            <h3>Tamaño</h3>
            <div class="product-options-container">
                <div class="product-options" id="size-products">
                    <button data-product="10ml">10ml</button>
                    <button data-product="30ml">30ml</button>
                    <button data-product="50ml">50ml</button>
                    <button data-product="100ml">100ml</button>
                    <button data-product="200ml">200ml</button>
                </div>
                <button class="add-to-cart-standalone" id="add-size-cart" disabled>Agregar al Carrito</button>
            </div>
        </div>

        <div class="filters">
            <h3>Filtros</h3>
            
            <div class="filter-group">
                <label>Propiedad</label>
                <div class="filter-options" id="property-filters">
                    <button data-filter="floral">Floral</button>
                    <button data-filter="hojas">Hojas</button>
                    <button data-filter="fruto-cascara">Fruto/Cáscara</button>
                    <button data-filter="semilla">Semilla</button>
                    <button data-filter="tallo-corteza-madera">Tallo/Corteza/Madera</button>
                    <button data-filter="raiz-rizoma">Raíz/Rizoma</button>
                    <button data-filter="macerados-infusiones">Macerados/Infusiones</button>
                    <button data-filter="resinas-balsamos">Resinas/Bálsamos</button>
                    <button data-filter="absolutos">Absolutos</button>
                    <button data-filter="aceites-vegetales">Aceites Vegetales</button>
                </div>
            </div>
        </div>

        <div class="product-list" id="product-list">
            
            <div class="product-card" data-property="floral">
                <h4>Ylang Ylang</h4>
                <p>Regula grasa en piel/cabello, antiestrías, afrodisíaco en perfumes.</p>
                <button class="add-to-cart" onclick="addToCart('Ylang Ylang')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Manzanilla</h4>
                <p>Calma irritaciones (piel sensible), aclara cabello rubio natural.</p>
                <button class="add-to-cart" onclick="addToCart('Manzanilla')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Neroli</h4>
                <p>Regenera piel madura, reduce cicatrices, equilibra pH.</p>
                <button class="add-to-cart" onclick="addToCart('Neroli')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Helicriso</h4>
                <p>Antiedad (estimula colágeno), trata hematomas y rojeces.</p>
                <button class="add-to-cart" onclick="addToCart('Helicriso')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Geranio</h4>
                <p>Balancea piel mixta, cicatrizante, repele insectos.</p>
                <button class="add-to-cart" onclick="addToCart('Geranio')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Tajete</h4>
                <p>Antimicrobiano para acné, revitaliza piel opaca.</p>
                <button class="add-to-cart" onclick="addToCart('Tajete')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="floral">
                <h4>Rosa</h4>
                <p>Hidratante profunda, antiarrugas, eleva ánimo.</p>
                <button class="add-to-cart" onclick="addToCart('Rosa')">Agregar al Carrito</button>
            </div>
            
            <div class="product-card" data-property="hojas">
                <h4>Árbol de té</h4>
                <p>Antibacteriano (acné, hongos en uñas/cuero cabelludo).</p>
                <button class="add-to-cart" onclick="addToCart('Árbol de té')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Mejorana</h4>
                <p>Relaja músculos (cremas post-depilación), antiinflamatoria.</p>
                <button class="add-to-cart" onclick="addToCart('Mejorana')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Enebro</h4>
                <p>Desintoxicante (piel con impurezas), reafirmante.</p>
                <button class="add-to-cart" onclick="addToCart('Enebro')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Eucalipto</h4>
                <p>Descongestionante (piel con psoriasis), purificante.</p>
                <button class="add-to-cart" onclick="addToCart('Eucalipto')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Menta</h4>
                <p>Refrescante (pies cansados), controla caspa grasa.</p>
                <button class="add-to-cart" onclick="addToCart('Menta')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Laurel</h4>
                <p>Antiséptico (heridas leves), estimula crecimiento capilar.</p>
                <button class="add-to-cart" onclick="addToCart('Laurel')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Orégano</h4>
                <p>Potente antifúngico (mezclar con aceite portador).</p>
                <button class="add-to-cart" onclick="addToCart('Orégano')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Gaulteria</h4>
                <p>Alivia dolores musculares (en gel deportivo).</p>
                <button class="add-to-cart" onclick="addToCart('Gaulteria')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Tomillo</h4>
                <p>Combate acné persistente, fortalece uñas quebradizas.</p>
                <button class="add-to-cart" onclick="addToCart('Tomillo')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Pino</h4>
                <p>Revitalizante (baños desfatigantes), antiséptico.</p>
                <button class="add-to-cart" onclick="addToCart('Pino')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Romero</h4>
                <p>Estimula circulación (cremas anticelulíticas), crecimiento capilar.</p>
                <button class="add-to-cart" onclick="addToCart('Romero')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Palmarosa</h4>
                <p>Regenera piel seca, aroma floral en jabones.</p>
                <button class="add-to-cart" onclick="addToCart('Palmarosa')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Lavanda</h4>
                <p>Cicatrizante (quemaduras leves), calma pieles con eczema.</p>
                <button class="add-to-cart" onclick="addToCart('Lavanda')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="hojas">
                <h4>Zacate de limón</h4>
                <p>Tonifica piel grasa, repelente natural.</p>
                <button class="add-to-cart" onclick="addToCart('Zacate de limón')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="fruto-cascara">
                <h4>Litsea cubeba</h4>
                <p>Uniformiza tono de piel, aroma cítrico en perfumería.</p>
                <button class="add-to-cart" onclick="addToCart('Litsea cubeba')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="fruto-cascara">
                <h4>Bergamota</h4>
                <p>Regula sebo (piel mixta), antidepresivo en aromaterapia.</p>
                <button class="add-to-cart" onclick="addToCart('Bergamota')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="fruto-cascara">
                <h4>Naranja dulce</h4>
                <p>Brillo en cabello, elimina toxinas en piel.</p>
                <button class="add-to-cart" onclick="addToCart('Naranja dulce')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="fruto-cascara">
                <h4>Mandarina</h4>
                <p>Suaviza estrías, calmante para niños (diluido).</p>
                <button class="add-to-cart" onclick="addToCart('Mandarina')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="semilla">
                <h4>Anís</h4>
                <p>Antiséptico para piel con granos, alivia picaduras.</p>
                <button class="add-to-cart" onclick="addToCart('Anís')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="semilla">
                <h4>Zanahoria</h4>
                <p>Bronceador natural (mezclar con aceite base), antiedad.</p>
                <button class="add-to-cart" onclick="addToCart('Zanahoria')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="semilla">
                <h4>Hinojo</h4>
                <p>Reduce celulitis (masajes), tonifica piel flácida.</p>
                <button class="add-to-cart" onclick="addToCart('Hinojo')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="semilla">
                <h4>Semilla negra</h4>
                <p>Potente antioxidante, trata psoriasis/eccemas.</p>
                <button class="add-to-cart" onclick="addToCart('Semilla negra')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="semilla">
                <h4>Vainilla</h4>
                <p>Afrodisíaco en perfumes, hidrata piel seca.</p>
                <button class="add-to-cart" onclick="addToCart('Vainilla')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="tallo-corteza-madera">
                <h4>Palo Santo</h4>
                <p>Protege piel de estrés ambiental, aroma relajante.</p>
                <button class="add-to-cart" onclick="addToCart('Palo Santo')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="tallo-corteza-madera">
                <h4>Canela</h4>
                <p>Estimulante sanguíneo (evitar en piel sensible), labiales naturales.</p>
                <button class="add-to-cart" onclick="addToCart('Canela')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="tallo-corteza-madera">
                <h4>Sándalo</h4>
                <p>Repara piel agrietada, meditativo en perfumes.</p>
                <button class="add-to-cart" onclick="addToCart('Sándalo')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="tallo-corteza-madera">
                <h4>Cedro</h4>
                <p>Controla caída de cabello, reduce piel de naranja.</p>
                <button class="add-to-cart" onclick="addToCart('Cedro')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="tallo-corteza-madera">
                <h4>Ciprés</h4>
                <p>Reduce varices, astringente para poros abiertos.</p>
                <button class="add-to-cart" onclick="addToCart('Ciprés')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="raiz-rizoma">
                <h4>Nardo</h4>
                <p>Regenera piel madura, sagrado en rituales de belleza.</p>
                <button class="add-to-cart" onclick="addToCart('Nardo')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="raiz-rizoma">
                <h4>Vetiver</h4>
                <p>Reparador de piel dañada por sol, fijador en perfumes.</p>
                <button class="add-to-cart" onclick="addToCart('Vetiver')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="macerados-infusiones">
                <h4>Flor de San Juan</h4>
                <p>Cicatrizante (quemaduras, heridas), calma piel irritada.</p>
                <button class="add-to-cart" onclick="addToCart('Flor de San Juan')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="macerados-infusiones">
                <h4>Caléndula</h4>
                <p>Bálsamo para dermatitis del pañal, labios agrietados.</p>
                <button class="add-to-cart" onclick="addToCart('Caléndula')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="resinas-balsamos">
                <h4>Mirra</h4>
                <p>Regenera piel agrietada, enjuague bucal natural.</p>
                <button class="add-to-cart" onclick="addToCart('Mirra')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="resinas-balsamos">
                <h4>Copaiba</h4>
                <p>Antiinflamatorio (acné quístico), reduce estrías.</p>
                <button class="add-to-cart" onclick="addToCart('Copaiba')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="absolutos">
                <h4>Rosa absoluto</h4>
                <p>Reafirmante para busto/cuello, antiedad profundo.</p>
                <button class="add-to-cart" onclick="addToCart('Rosa absoluto')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="absolutos">
                <h4>Jazmín absoluto</h4>
                <p>Elasticidad en piel madura, reduce marcas de parto.</p>
                <button class="add-to-cart" onclick="addToCart('Jazmín absoluto')">Agregar al Carrito</button>
            </div>

            <div class="product-card" data-property="aceites-vegetales">
                <h4>Rosa mosqueta</h4>
                <p>Regenera cicatrices, uniformiza tono.</p>
                <button class="add-to-cart" onclick="addToCart('Rosa mosqueta')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="aceites-vegetales">
                <h4>Almendras</h4>
                <p>Desmaquillante natural, nutre pestañas.</p>
                <button class="add-to-cart" onclick="addToCart('Almendras')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="aceites-vegetales">
                <h4>Argán</h4>
                <p>Antioxidante (protege de polución), brillo en cabello rizado.</p>
                <button class="add-to-cart" onclick="addToCart('Argán')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="aceites-vegetales">
                <h4>Aguacate</h4>
                <p>Nutrición intensa (pieles muy secas), reparador nocturno.</p>
                <button class="add-to-cart" onclick="addToCart('Aguacate')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="aceites-vegetales">
                <h4>Linaza</h4>
                <p>Cabello quebradizo, uñas frágiles.</p>
                <button class="add-to-cart" onclick="addToCart('Linaza')">Agregar al Carrito</button>
            </div>
            <div class="product-card" data-property="aceites-vegetales">
                <h4>Jojoba</h4>
                <p>Regula sebo (piel/cabello graso), no comedogénico.</p>
                <button class="add-to-cart" onclick="addToCart('Jojoba')">Agregar al Carrito</button>
            </div>
        </div>
    </div>
    
    <div class="cart-section">
        <span id="cart-item-count">0 items en el carrito</span>
        <button class="cart-button" onclick="showCart()">Ver Carrito</button>
    </div>

    <div id="cart-modal" class="cart-modal">
        <div class="cart-content">
            <span class="close-modal" onclick="closeCart()">&times;</span>
            <h3>Tu Carrito de Compras</h3>
            <div id="cart-items-list">
                </div>
            <a href="#" class="whatsapp-btn" id="whatsapp-link" target="_blank">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
                Enviar pedido por WhatsApp
            </a>
        </div>
    </div>
    
    <script>
        const cart = {};
        const productList = document.getElementById('product-list');
        const baseProductsSection = document.getElementById('base-products');
        const sizeProductsSection = document.getElementById('size-products');
        const addBaseCartBtn = document.getElementById('add-base-cart');
        const addSizeCartBtn = document.getElementById('add-size-cart');
        const propertyFilters = document.getElementById('property-filters');
        const cartCountSpan = document.getElementById('cart-item-count');
        const cartModal = document.getElementById('cart-modal');
        const cartItemsList = document.getElementById('cart-items-list');
        const whatsappLink = document.getElementById('whatsapp-link');

        let activeBaseProduct = null;
        let activeSizeProduct = null;
        let activePropertyFilter = null;
        
        function updateFilters() {
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach(card => {
                const property = card.getAttribute('data-property');
                
                const showByProperty = !activePropertyFilter || property === activePropertyFilter;
                
                if (showByProperty) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // Función para manejar la selección de productos de Base y Tamaño
        function handleProductSelection(e, type) {
            if (e.target.tagName === 'BUTTON') {
                const product = e.target.getAttribute('data-product');
                const parentId = (type === 'base') ? 'base-products' : 'size-products';
                const currentActive = (type === 'base') ? activeBaseProduct : activeSizeProduct;

                // Desactivar el botón anterior
                document.querySelectorAll(`#${parentId} button.selected`).forEach(btn => btn.classList.remove('selected'));
                
                if (currentActive === product) {
                    // Si se hace clic en el mismo botón, lo deseleccionamos
                    if (type === 'base') {
                        activeBaseProduct = null;
                        addBaseCartBtn.disabled = true;
                    } else {
                        activeSizeProduct = null;
                        addSizeCartBtn.disabled = true;
                    }
                } else {
                    // Si se hace clic en un botón diferente, lo seleccionamos
                    e.target.classList.add('selected');
                    if (type === 'base') {
                        activeBaseProduct = product;
                        addBaseCartBtn.disabled = false;
                    } else {
                        activeSizeProduct = product;
                        addSizeCartBtn.disabled = false;
                    }
                }
            }
        }
        
        // Event Listeners para las nuevas secciones de productos
        baseProductsSection.addEventListener('click', (e) => handleProductSelection(e, 'base'));
        sizeProductsSection.addEventListener('click', (e) => handleProductSelection(e, 'size'));

        // Event Listeners para los botones de agregar al carrito de las nuevas secciones
        addBaseCartBtn.addEventListener('click', () => {
            if (activeBaseProduct) {
                addToCart(activeBaseProduct);
            }
        });
        
        addSizeCartBtn.addEventListener('click', () => {
            if (activeSizeProduct) {
                addToCart(activeSizeProduct);
            }
        });

        // Event Listeners para los filtros existentes
        propertyFilters.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const filter = e.target.getAttribute('data-filter');
                if (activePropertyFilter === filter) {
                    activePropertyFilter = null;
                    e.target.classList.remove('active');
                } else {
                    document.querySelectorAll('#property-filters button.active').forEach(btn => btn.classList.remove('active'));
                    activePropertyFilter = filter;
                    e.target.classList.add('active');
                }
                updateFilters();
            }
        });
        
        function addToCart(item) {
            cart[item] = (cart[item] || 0) + 1;
            updateCart();
        }
        
        function removeFromCart(item) {
            if (cart[item]) {
                delete cart[item];
            }
            updateCart();
            renderCart();
        }

        function updateCart() {
            const itemCount = Object.values(cart).reduce((sum, count) => sum + count, 0);
            cartCountSpan.textContent = `${itemCount} items en el carrito`;
        }

        function showCart() {
            renderCart();
            cartModal.style.display = 'flex';
        }

        function closeCart() {
            cartModal.style.display = 'none';
        }
        
        function renderCart() {
            cartItemsList.innerHTML = '';
            let whatsappMessage = "Hola, me gustaría hacer un pedido de los siguientes productos:\n\n";
            
            if (Object.keys(cart).length === 0) {
                cartItemsList.innerHTML = '<p>El carrito está vacío.</p>';
                whatsappLink.style.display = 'none';
                whatsappMessage = "Hola, me gustaría hacer un pedido, pero el carrito está vacío.";
            } else {
                whatsappLink.style.display = 'block';
                for (const item in cart) {
                    const div = document.createElement('div');
                    div.classList.add('cart-item');
                    div.innerHTML = `
                        <span>${item}</span>
                        <button class="remove-btn" onclick="removeFromCart('${item}')">Eliminar</button>
                    `;
                    cartItemsList.appendChild(div);
                    whatsappMessage += `• ${item}\n`;
                }
            }
            
            const encodedMessage = encodeURIComponent(whatsappMessage);
            whatsappLink.href = `https://wa.me/50661288608?text=${encodedMessage}`;
        }
    </script>
</body>
</html>
